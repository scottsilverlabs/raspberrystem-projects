<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8"><title>LED MATRIX</title>

<link rel="stylesheet" type="text/css" href="default.css">
<link type="text/css" rel="stylesheet" href="/assets/cmirror/codemirror.css">
<link type="text/css" id="theme" rel="stylesheet" href="/assets/themes/solarized-dark.css">
<script type="text/javascript" src="/assets/cmirror/codemirror.js"></script>
<script type="text/javascript" src="/assets/cmirror/python.js"></script>
<script type="text/javascript" src="codeblocks.js"></script></head>
<body style="direction: ltr; color: rgb(0, 0, 10);" lang="en-US" link="#0563c1">
<header>
    <div id=title>LED MATRIX</div>
    <div id=description>In this project, we introduce the LED Matrix 8x8 display and get
	    it working.</div>
    <div id=hw_required>LED Matrix RaspberrySTEM Cell</div>
    <div id=troubleshooting><a href="TROUBLESHOOTING.html">Having issues?  Check out the Troubleshooting Guide.</a></div>
</header>

<p>In this project, we're going to introduce a new component that
can
be used for a variety of purposes, including building games.
&nbsp;It's
called an LED Matrix, and like the name implies, it is basically a
small device that contains lots of little LEDs (64 of them, to be
exact). &nbsp;This is what an LED Matrix looks like (though yours won't have the smiley face just yet and the writing you see on the image above is actually on the circuit board, not the 
display):</p>
<br>
<div style="text-align: center;"><span style="font-family: &quot;Verdana&quot;,serif;"><img style="width: 276px; height: 275px;" alt="" src="img/led.jpg"></span></div>
<br>
<p>Included
with the RaspberrySTEM CREATOR Kit is a bag labeled,&nbsp;<span style="font-weight: bold;">LED Matrix RaspberrySTEM
Cell</span>. &nbsp;This bag contains all the parts that
you'll need to build
and program with an LED Matrix. &nbsp;In that bag you should find
the
following:</p>
<ul>
<li>
<p><span style="font-weight: bold;">LED Matrix:</span>
&nbsp;This actually consists of two parts that we've assembled for
you
-- the circuit board on the bottom and the LED display on the top.
&nbsp;You can pull the display from the circuit board, but do so
carefully so that none of the pins bend or break.</p>
</li>
<li>
<p><span style="font-weight: bold;">LED Matrix
Cable:</span>
&nbsp;This cable consists of six wires, with connectors on each
end.
&nbsp;This is the cable that will be used to connect the LED Matrix
to
the breadboard. </p>
</li>
<li>
<p><span style="font-weight: bold;">Mounting
Posts:</span>
&nbsp;These two small posts and screws will need to be attached to
the LED Matrix to allow it to attach to the breadboard.  We've also included a
guitar pick that can be used as a mini-screwdriver when attaching the mounting posts.</p>
</li>
</ul>

<h2>Installing the Mounting Posts</h2>
<p>The LED Matrix comes with two small mounting posts and screws that
are used to allow the LED Matrix display to attach to the breadboard.
&nbsp;The mounting posts should be installed prior to using the LED
Matrix. &nbsp;To install the mounting posts, follow these steps:</p>
<br>
<p style="font-weight: bold;">Step #1: &nbsp;Remove the LED Display from the Circuit Board</p>
<span style="font-weight: normal;"></span><p>The LED Matrix display is
actually two parts, connected together by 16 pins (8 on each side).
&nbsp;To install the mounting posts, you will need to pull the top
part (the LED Display) from the bottom part (the circuit board).
&nbsp;This is done by gripping the edges of the LED Display gently in
one hand, gripping the edges of the circuit board gently in the other
hand and carefully separating the display from the board. &nbsp;Try to
apply equal pressure all around the display to avoid bending or
breaking any pins.</p><p>Once the display is separated from the circuit board, 
set the display aside.</p>
<br><p style="font-weight: bold;">Step #2: &nbsp;Attach the Mounting Posts to the Circuit Board</p>
<p>On the circuit board corners are four holes, two labeled "A" and two
labeled "B". &nbsp;You can attach the mounting posts either&nbsp;in the
"A" holes or the "B" holes, but you will want to ensure that both
mounting posts are attached to holes with the same letter (either both in "A" or both
in "B").  Attach the mounting posts, as shown below:</p>

<br><center>
<img style="width: 275px;" src="img/posts_bb.png">
</center><br>

<p>Use the triangular plastic piece
(a guitar pick) to tighten the mounting post screws.</p>
<br>
<p style="font-weight: bold;">Step #3: &nbsp;Re-Attach the LED Display to the Circuit Board</p>
<p>Once the mounting posts
are secured and tightened, you'll need to re-attach the LED Display to
the circuit board. &nbsp;Holding the circuit board in one hand and the
LED Display in the other, carefully align the 16 pins on the LED
Display with the 16 holes on the circuit board. &nbsp;Once the pins and
holes are aligned, gently press the LED Display into the circuit board,
applying equal pressure around the display to avoid damaging it.</p>
<p><b>Note:</b> There is a specific orientation for the LED display to be mounted
on the LED Matrix circuit board. &nbsp;You will want to ensure that the
serial number on the LED display is facing up when the metal pins on
the LED Matrix circuit board are facing to the left. &nbsp;As another
check to ensure the display is oriented correctly, the circuit board
says "Matrix Top" on one side -- the serial number of the LED display
should be facing this direction, as shown below: </p>

<br><center>
<img style="width: 275px;" src="img/Matrix_bb.png">
</center><br>

<h2>Power Up the LED Matrix</h2>
<p><span style="font-weight: bold;">Note:</span>
For the next several projects, we'll be
introducing new components that will require at least one-third of the
breadboard space. &nbsp;If you have enough room remaining on the
breadboard, you can use that empty space; otherwise, we recommend
removing some or all of the circuits you currently have on the
breadboard to allow enough space for the next set of projects.</p>
<p>The
first step in using the LED Matrix is to provide it power and ground.
&nbsp;While this won't be enough to do anything interesting with
it, by
doing this, we can at least verify that it's working properly.
&nbsp;Before you get started, you'll want to ensure that the
breadboard has power (3.3V) and ground (GND) coming from the 
Lid Connector Board.</p>
<br>
<p style="font-weight: bold;">Step #1: &nbsp;Place the
LED Matrix on the breadboard</p>
<p style="font-weight: bold;"><span style="font-weight: normal;">Once the binding posts are
attached to the LED Matrix, attaching it to the breadboard is as simple
as inserting the binding posts into the breadboard anywhere you'd like.
&nbsp;You'll want to keep in mind that the LED Matrix doesn't
connect to the breadboard electrically -- meaning it doesn't need to be
attached to the breadboard to work. &nbsp;All of the signals going
between the RaspberrySTEM kit and the LED Matrix will be going over the LED
Matrix cable, and not through the breadboard.</span></p>
<p style="font-weight: bold;"><span style="font-weight: normal;"></span></p>
<p style="font-weight: bold; text-align: center;"><span style="font-weight: normal;"><img class="bb" src="img/LED_Matrix_unconnected_bb.png"></span></p>
<p style="font-weight: bold; text-align: center;"><span style="font-weight: normal;"></span></p>
<br>
<p style="font-weight: bold;">Step #2: &nbsp;Attach
LED Matrix Cable to the LED Matrix</p>
<p style="font-weight: bold;"><span style="font-weight: normal;">Once
the LED Matrix is situated
on the breadboard, you're going to attach the LED Matrix cable, as shown:</br>

<br><center>
<img style="bb" src="img/Matrix_Cable_bb.png">
</center><br>

<p><b>Note:</b> The plastic part of the cable has a top and bottom -- the top of
the cable is all black, the bottom of the cable has access to the
silver pins of the wires. You will want to ensure that the cable
is plugged into the LED Matrix with the top of the cable (all black
plastic) is facing up.</span></p>
<br>
<p style="font-weight: bold;">Step #3: &nbsp;Attach
the 3.3V Pin to Power and GND to Ground</p>
<p style="font-weight: bold;"><span style="font-weight: normal;">Once the cable is attached to
	the LED Matrix, you'll want to connect the 3.3V wire and the GND wire, as follows:</span></p>
<br>
<center><img class="bb" src="img/LED_Matrix_power_only_bb.png"></center>
<br>
<p>Once
power and ground are correctly attached, you should see&nbsp;</span>vertical
and horizontal bars sweep across the display a single time<span style="font-family: &quot;Verdana&quot;,serif;">. &nbsp;This is
indication that the LED Matrix is powered up and working
correctly.&nbsp;</span></p>
<p><span style="font-family: &quot;Verdana&quot;,serif;">Once the LED Matrix powered up correctly, let's keep going...</span></p>
<br>
<p style="font-weight: bold;">Step #4: &nbsp;Attach
SCLK, MOSI, CE &amp; MISO Pins to Lid Connector Board</p>
<span style="font-weight: normal;"></span>
<p>Now
that we've verified that the LED Matrix can be powered up and is
working properly, we can finish wiring it so that we can start
controlling it with our software. &nbsp;To finish wiring the LED
Matrix
we need to make four other connections, as follows:</p>
<ol>
<li>
<p>Connect the SCLK wire on the LED Matrix to the SCLK pin
on the Lid Connector Board (see orange wire in the picture below).</p>
</li>
<li>
<p>Connect the MOSI wire on the LED Matrix to the MOSI pin 
on the Lid Connector Board (see the yellow wire in the picture below).</p>
</li>
<li>
<p>Connect the CE wire on the LED Matrix to the CE0 pin 
on the Lid Connector Board (see the green wire in the picture below).  Note
that there is both CE0 and CE1 on the Lid Connector -- ensure that you're connected to CE0.  
</p>
</li>
<li>
<p>Finally, a separate jumper wire (this is not included in the LED
Matrix bag, but you can use any of the provided colored wires) should be connected 
from the MISO pin on the other side of
the LED Matrix to the MISO pin on the Lid Connector Board (see the blue wire in the
picture below).</p>
</li>
</ol>
<p>Here is what the breadboard should look like with the LED
Matrix fully wired:</p>
<br>
<p style="font-weight: bold; text-align: center;"><span style="font-weight: normal;"><img class="bb" src="img/LED_Matrix_bb.png"></span></p>
</br>
<p style="font-weight: bold;">Note: &nbsp;<span style="font-weight: normal;">If you have a wire attached to
the RST pin on the LED Matrix, you have likely attached the LED Matrix
cable upside down. &nbsp;You will want to remove the cable and
start over.</span></p>
<h2>Testing the LED Matrix</h2><p>In order to display graphics on our
LED Matrix, we use a set of functions that allows us to create, draw,
display and erase a framebuffer.</p>
<br>
<div class="info">
<div>Framebuffers</div>
<div><p>You can think of a framebuffer as a temporary "canvas" that sits inside of a computer 
(specifically inside the computer's memory).  This canvas is configured just like the
display on your monitor, TV set, cell phone or whatever display device you're using
(same width and height). We can modify that canvas pixel-by-pixel (pixels are the individual
dots that make up the display).  We can 
turn a pixel on or off, set it to a particular color or intensity, etc.</p>

<p>Once you've drawn what you want on your canvas (your framebuffer), you can replace what is 
seen on your device by displaying that framebuffer.  The canvas that was stored in the 
computer's memory instantly becomes visible on the screen.</p>

<p>At the same time, your code may be creating a new framebuffer, which is the next canvas that
will be displayed.  Framebuffers are often used to create animation on the screen, specifically
for games.</p>

<p>The typical sequence in which framebuffers are used is as
follows:</p>
<ol>
<li>
<p>Erase the framebuffer so it is ready to be used</p>
</li>
<li>
<p>Draw your graphics on the framebuffer behind the
scenes (while it isn't being shown)</p>
</li>
<li>
<p>Display your framebuffer with the drawn graphics</p></li><li><p>Repeat</p></li>
</ol>
<p>
Even for tiny little displays like our 8x8 LED Matrix, a framebuffer
provides a simple and efficient way to draw&nbsp;graphics.</p>
</div></div>
<br>
<p>Here is the basic code we'll use to initialize our LED Matrix and draw a single dot to it:</p>
<br>
<div class="code" data-firstline="1"> 
<div></div> 
<textarea>from rstem.led_matrix import FrameBuffer
fb = FrameBuffer()

x, y = (3, 3)

fb.erase()
fb.point(x,y)
fb.show()
</textarea></div>

<br>
<p>Let's take a look at what our code is doing:</p>
<ul><li>
<p>On Line 1, we import the module we will need to initialize
and use a framebuffer (called <span style="font-family: Courier New,Courier,monospace;">Framebuffer()</span>)</p>
</li><li>
<p>On Line 2, we initialize our framebuffer. We
call the&nbsp;<span style="font-family: Courier New,Courier,monospace;">Framebuffer()</span>
function, which returns a "framebuffer object" to our <span style="font-family: Courier New,Courier,monospace;">accel </span>variable
&nbsp;We talked about that a bit in <a href="VARIABLES_-_ASSIGNMENTS.html">VARIABLES & ASSIGNMENTS</a>,
but the important thing to understand is that we can now use the<span style="font-family: Courier New,Courier,monospace;"> fb</span>
variable to call other framebuffer functions</p>
</li><li>
<p>On Line 4, we create a pair of coordinates. &nbsp;This is where will display the dot on the LED Matrix display</p></li><li><p>On Line 6, we call the framebuffer function&nbsp;<span style="font-family: Courier New,Courier,monospace;">erase()</span>,
which erases the&nbsp;framebuffer</p>
</li><li>
<p>On Line 7, we call the framebuffer function <span style="font-family: Courier New,Courier,monospace;">point()</span>,
which draws a point on the framebuffer</p>
</li><li>
<p>On
Line 8,&nbsp;we call the framebuffer function <span style="font-family: Courier New,Courier,monospace;">show()</span>,
which displays the framebuffer on the LED Matrix</p></li></ul><p></p><p>When you run this code, you should see a dot appear on the LED Matrix towards the middle of the display.<br>
<br>
</p>
	<p class=nextprev><a href="index.html">home</a> | <a href="SIMON_7.html">prev</a> |
<a href="GAME_LOOPS.html">next</a></p>
</body></html>
