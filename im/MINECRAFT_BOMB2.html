<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="default.css">
    <link type="text/css" rel="stylesheet" href="/assets/cmirror/codemirror.css">
    <link type="text/css" id="theme" rel="stylesheet" href="/assets/themes/solarized-dark.css">
    <script type="text/javascript" src="/assets/cmirror/codemirror.js"></script>
    <script type="text/javascript" src="/assets/cmirror/python.js"></script>
    <script type="text/javascript" src="onload.js"></script>
    <script type="text/javascript" src="codeblocks.js"></script>
    <script type="text/javascript" src="toc_order.js"></script>
    <script type="text/javascript" src="project.js"></script>
</head>
<body>
<header>
    <div id=title></div>
    <div id=description>This is a minecraft project</div>
    <div id=hw_required>
    Accelerometer Cell<br>
    LED Matrix Cell
    </div>
    <div id=troubleshooting><a href="TROUBLESHOOTING.html">Having issues?  Check out the Troubleshooting Guide.</a></div>
</header>
<h2>The Introduction</h2>
<h2>The Hardware</h2>
<p>None required.</p>
<h2>The Software</h2>
<div class="code" data-firstline="1"> <div></div> <textarea>
from rstem.button import Button
from rstem.mcpi import minecraft, control, block
from rstem.mcpi.vec3 import Vec3
from rstem.led_matrix import FrameBuffer, Text
from rstem.sound import Sound
import time

fb = FrameBuffer()

bomb_sound = Sound("fire.wav")

control.show()
mc = minecraft.Minecraft.create()
bomb = Button(7)
up = Button(18)
down = Button(15)

def detonate(mc, pos, radius=1):
    r_vector = Vec3(radius,radius,radius)
    mc.setBlocks(pos - r_vector, pos + r_vector, block.AIR)
    bomb_sound.play()

place_mode = True
radius = 1
while True:
    if place_mode:
        if bomb.presses():
            control.hit()
        hits = mc.events.pollBlockHits()
        if hits:
            tnt_pos = hits[0].pos
            mc.setBlock(tnt_pos, block.TNT)
            place_mode = False

    else:
        if bomb.presses():
            detonate(mc, tnt_pos, radius)
            place_mode = True

    radius += up.presses()
    radius -= down.presses()
    radius = max(min(9, radius), 0)

    fb.erase()
    fb.draw(Text(str(radius)))
    fb.show()

    time.sleep(0.01)

</textarea></div>
<h2>The Challenge</h2>
<div id=footer></div>
</body></html>
