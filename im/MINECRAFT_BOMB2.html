<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Mac OS X version 4.9.26">
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
  <link rel="stylesheet" type="text/css" href="project.css">
  <link type="text/css" rel="stylesheet" href="/assets/cmirror/codemirror.css">
  <link type="text/css" id="theme" rel="stylesheet" href=
  "/assets/themes/solarized-dark.css">
  <script type="text/javascript" src="/assets/cmirror/codemirror.js">
  </script>
  <script type="text/javascript" src="/assets/cmirror/python.js">
  </script>
  <script type="text/javascript" src="onload.js">
  </script>
  <script type="text/javascript" src="codeblocks.js">
  </script>
  <script type="text/javascript" src="toc_order.js">
  </script>
  <script type="text/javascript" src="project.js">
  </script>
  <title></title>
</head>
<body>
  <header>
    <div id="title"></div>
    <div id="description">
      This is a minecraft project
    </div>
    <div id="hw_required">
      Accelerometer Cell<br>
      LED Matrix Cell
    </div>
    <div id="troubleshooting">
      <a href="TROUBLESHOOTING.html">Having issues? Check out the
      Troubleshooting Guide.</a>
    </div>
  </header>
  <h2>Overview</h2>

  <p>In this project, we'll build on the previous bomb detonating project by
  making our explosion radius configurable from the controller (and display
  that radius on the LED Matrix). We also add sound to the explosion.</p>
  <h2>Hardware Setup</h2><img class="bb" src=
  "img/Minecraft_Matrix_updown_1button_bb.png" alt="">
  <h2>Writing Our Code</h2>

  <p>xxx</p>
  <h2>The Software</h2>
  <div class="code" data-firstline="1">
    <textarea>
from rstem.button import Button
from rstem.mcpi import minecraft, control, block
from rstem.mcpi.vec3 import Vec3
from rstem.led_matrix import FrameBuffer, Text
from rstem.sound import Sound
import time

fb = FrameBuffer()

bomb_sound = Sound("fire.wav")

control.show()
mc = minecraft.Minecraft.create()
bomb = Button(7)
up = Button(18)
down = Button(15)

def detonate(mc, pos, radius=1):
    r_vector = Vec3(radius,radius,radius)
    mc.setBlocks(pos - r_vector, pos + r_vector, block.AIR)
    bomb_sound.play()

place_mode = True
radius = 1
while True:
    if place_mode:
        if bomb.presses():
            control.hit()
        hits = mc.events.pollBlockHits()
        if hits:
            tnt_pos = hits[0].pos
            mc.setBlock(tnt_pos, block.TNT)
            place_mode = False

    else:
        if bomb.presses():
            detonate(mc, tnt_pos, radius)
            place_mode = True

    radius += up.presses()
    radius -= down.presses()
    radius = max(min(9, radius), 0)

    fb.erase()
    fb.draw(Text(str(radius)))
    fb.show()

    time.sleep(0.01)

</textarea>
  </div>
  <div id="footer"></div>
</body>
</html>
