<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="default.css">
    <link type="text/css" rel="stylesheet" href="/assets/cmirror/codemirror.css">
    <link type="text/css" id="theme" rel="stylesheet" href="/assets/themes/solarized-dark.css">
    <script type="text/javascript" src="/assets/cmirror/codemirror.js"></script>
    <script type="text/javascript" src="/assets/cmirror/python.js"></script>
    <script type="text/javascript" src="onload.js"></script>
    <script type="text/javascript" src="codeblocks.js"></script>
    <script type="text/javascript" src="toc_order.js"></script>
    <script type="text/javascript" src="project.js"></script>
</head>
<body>
<header>
    <div id=title></div>
    <div id=description>This is a minecraft project</div>
    <div id=hw_required>
    Accelerometer Cell<br>
    LED Matrix Cell
    </div>
    <div id=troubleshooting><a href="TROUBLESHOOTING.html">Having issues?  Check out the Troubleshooting Guide.</a></div>
</header>

<h2>Overview</h2>
<p>In our previous project, we set a block and allow Steve to
move it around the Minecraft world using direction buttons on 
the RaspberrySTEM.  In this project, we'll force the block to
blink to give us a better indication of which block is being 
set/moved.

<p>In future projects, we'll extend this functionality to allow
the blinking block to be used like a cursor to "paint" the
Minecraft landscape with blocks.


<h2>Hardware Setup</h2>
<img class="bb" src="img/Minecraft_4way_2buttons_bb.png">

<h2>Writing Our Code</h2>

<p>xxx

<div class="code" data-firstline="1"> <div></div> <textarea>
from rstem.button import Button
from rstem.mcpi import minecraft, control, block
from rstem.mcpi.vec3 import Vec3
import time

control.show()
mc = minecraft.Minecraft.create()

left = Button(23)
right = Button(14)
up = Button(18)
down = Button(15)

cursor = mc.player.getTilePos()
cursor.y = mc.getHeight(cursor.x, cursor.z)

BLINK_TIME = 0.3
start = time.time()
cursor_on = True
while True:
    old_cursor = cursor.clone()
    cursor += Vec3(0, 0, right.presses())
    cursor += Vec3(0, 0, -left.presses())
    cursor += Vec3(up.presses(), 0, 0)
    cursor += Vec3(-down.presses(), 0, 0)
    if old_cursor != cursor:
        mc.setBlock(old_cursor, block.AIR)
        cursor.y = mc.getHeight(cursor.x, cursor.z)
        start = 0
        cursor_on = True

    if time.time() - start > BLINK_TIME:
        mc.setBlock(cursor, block.STONE if cursor_on else block.AIR)
        start = time.time()
        cursor_on = not cursor_on

    time.sleep(0.01)
</textarea></div>

<div id=footer></div>
</body></html>
